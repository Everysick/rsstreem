use std::cell::RefCell;

#[derive(Debug, PartialEq)]
pub enum Biop {
    Plus,
    Minus,
    Mul,
    Div,
    And,
    OR,
    Eq,
    Neq,
    Greater,
    Less,
    Over,
    Under,
}

#[derive(Debug, PartialEq)]
pub enum Ast {
    Int(i64),
    Float,
    Time,
    Var(String),
    Nil,
    Bool,
    Args { data: Vec<Box<Ast>> },
    Pair,
    Cfunc,
    Lambda {
        args: Box<Ast>,
        body: Box<Ast>,
        block: i64,
    },
    Plambda {
        pat: Box<Ast>,
        cond: Box<Ast>,
        body: Box<Ast>,
        next: RefCell<Vec<Box<Ast>>>,
    },
    Parray,
    Pstruct,
    Psplat,
    Splat,
    Ident,
    Let,
    If,
    Emit,
    Skip,
    Return,
    Const,
    Op {
        op: Biop,
        lhs: Box<Ast>,
        rhs: Box<Ast>,
    },
    Call,
    Fcall,
    Genfunc,
    Array,
    Nodes,
    Ns,
    Imort,
    Null,
}
